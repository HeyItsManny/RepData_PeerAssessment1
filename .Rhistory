qplot(year, Emissions, data=NEI_Sub, color=type,  geom = "line") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
View(NEI_Sub)
View(NEI_Sub)
PM25ByYearType <- tapply(NEI_Sub$Emissions, c(NEI_Sub$year,NEI_Sub$type), sum)
PM25ByYearType <- tapply(NEI_Sub$Emissions, list(NEI_Sub$year,NEI_Sub$type), sum)
str(PM25ByYearType)
View(PM25ByYearType)
View(PM25ByYearType)
plot(names(PM25ByYearType),
PM25ByYearType/1000,
type = "l",
xlab = "Year",
ylab=expression(paste(PM[2.5], " Emissions in K Tons")),
main=expression(paste("Total US ", PM[2.5], " Emissions by Year")))
plot(names(PM25ByYearType),
PM25ByYearType,
type = "l",
xlab = "Year",
ylab=expression(paste(PM[2.5], " Emissions in K Tons")),
main=expression(paste("Total US ", PM[2.5], " Emissions by Year")))
plot(PM25ByYearType,
type = "l",
xlab = "Year",
ylab=expression(paste(PM[2.5], " Emissions in K Tons")),
main=expression(paste("Total US ", PM[2.5], " Emissions by Year")))
PM25ByYearType <- tapply(NEI_Sub$Emissions, list(NEI_Sub$type, NEI_Sub$year), sum)
PM25ByTypeYear <- tapply(NEI_Sub$Emissions, list(NEI_Sub$type, NEI_Sub$year), sum)
rm(PM25ByYearType)
plot(names(PM25ByTypeYear),
PM25ByTypeYear,
type = "l",
xlab = "Year",
ylab=expression(paste(PM[2.5], " Emissions in K Tons")),
main=expression(paste("Total US ", PM[2.5], " Emissions by Year")))
PM25ByTypeYear <- tapply(NEI_Sub$Emissions/1000, list(NEI_Sub$type, NEI_Sub$year), sum)
View(PM25ByTypeYear)
PM25ByTypeYear <- tapply(NEI_Sub$Emissions/100, list(NEI_Sub$type, NEI_Sub$year), sum)
PM25ByTypeYear <- tapply(NEI_Sub$Emissions, list(NEI_Sub$type, NEI_Sub$year), sum)
qplot(data=PM25ByTypeYear, color="gray",  geom = "line") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " from Coal Combustion Sources")))
plot(PM25ByTypeYear[,'1999'],PM25ByTypeYear[,'2000'])
df <- data.frame(PM25ByTypeYear)
plot(PM25ByTypeYear, type = "l")
PM25ByYearType <- tapply(NEI_Sub$Emissions, list(NEI_Sub$year, NEI_Sub$type), sum)
plot(PM25ByYearType, type = "l")
plot(names(PM25ByYearType), PM25ByYearType, type="l")
plot(df, type="l")
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, color=type,  geom = "line")) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
qplot(data=PM25ByTypeYear, color="gray",  geom = "line") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " from Coal Combustion Sources")))
qplot(data=df, color="gray",  geom = "line") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, color=type,  geom = "line")) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(data=NEI_Sub, aes(x=year, y=Emissions)) +
geom_line() +
geom_point( size=4, shape=21, fill="white") +
xlab("Year") +
ylab(expression(paste(PM[2.5], " Emissions in K Tons")),
ggtitle("Total United States PM2.5 Coal Emissions")
)
ggplot(data=NEI_Sub, aes(x=year, y=Emissions)) +
geom_line() +
geom_point( size=4, shape=21, fill="white") +
xlab("Year") +
ylab(expression(paste(PM[2.5], " Emissions in K Tons")) +
ggtitle("Total United States PM2.5 Coal Emissions")
)
ggplot(data=NEI_Sub, aes(x=year, y=Emissions)) +
geom_line() +
geom_point( size=4, shape=21, fill="white") +
xlab("Year") +
ylab(expression(paste(PM[2.5], " Emissions in K Tons"))
))
ggplot(data=NEI_Sub, aes(x=year, y=Emissions)) +
geom_line() +
geom_point( size=4, shape=21, fill="white") +
xlab("Year") +
ylab(expression(paste(PM[2.5], " Emissions in K Tons")))
ggplot(data=NEI_Sub, aes(x=year, y=Emissions)) +
geom_line() +
geom_point( size=4, shape=21, fill="white") +
xlab("Year") +
ylab(expression(paste(PM[2.5], " Emissions in K Tons")) +
ggtitle("Total United States PM2.5 Coal Emissions"))
ggplot(data=NEI_Sub, aes(x=year, y=Emissions)) +
geom_line() +
geom_point( size=4, shape=21, fill="white") +
xlab("Year") +
ylab(expression(paste(PM[2.5], " Emissions in K Tons")) +
ggtitle("Total United States PM2.5 Coal Emissions")
)
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, color=type,  geom = "line")) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, color=type,  geom = "bar")) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions, color=type,  geom = "bar")) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, fill=Short.Name)) +
geom_bar(stat="identity") +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions)) +
geom_bar(stat="identity") +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions)) +
geom_bar(aes(fill=type))
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions)) +
geom_bar(aes(fill=type))
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions, fill=type) +
geom_bar()
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
PM25ByYearType <- aggregate(NEI_Sub$Emissions, list(NEI_Sub$year, NEI_Sub$type), sum)
View(PM25ByYearType)
View(PM25ByYearType)
PM25ByYearType <- tapply(NEI_Sub$Emissions, list(NEI_Sub$year, NEI_Sub$type), sum)
df <- data.frame(template=names(PM25ByYearType),sum=PM25ByYearType)
df <- data.frame(template=names(PM25ByYearType))
ggplot(NEI_Sub,aes(factor(year),Emissions, color=type,  geom = "line")) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year), Emissions, color=type,  geom = "line")) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , " from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year), Emissions, color=type)) +
geom_line() +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , " from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year), Emissions, color=type)) +
geom_line(aes(group=1)) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , " from Coal Combustion Sources")))
qplot(year, Emissions, data = NEI_Sub, color = type,
geom = "line") + ggtitle(expression("Coal Combustion" ~ PM[2.5] ~
"Emissions by Source Type and Year")) + xlab("Year") +
ylab(expression  ("Total" ~ PM[2.5] ~ "Emissions (tons)"))
ggplot(data=NEI_Sub, aes(x=year, y=Emissions/1000)) +
geom_line(aes(group=1, col=Emissions)) + geom_point(aes(size=2, col=Emissions)) +
ggtitle(expression('Total Emissions of PM'[2.5])) +
ylab(expression(paste('PM', ''[2.5], ' in kilotons'))) +
geom_text(aes(label=round(Emissions/1000,digits=2), size=2, hjust=1.5, vjust=1.5)) +
theme(legend.position='none') + scale_colour_gradient(low='black', high='red')
coalCombustionPM25ByYear <- ddply(NEI_Sub, .(year, type), function(x)
sum(x$Emissions))
library(ddply)
install.packages(ddply)
install.packages("ddply")
ggplot(NEI_Sub,aes(factor(year),Emissions)) +
geom_bar(stat="identity") +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions, fill=type)) +
geom_bar(stat="identity") +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions, fill=type)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, fill=type)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , "from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, fill=type)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , " from Coal Combustion Sources")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, fill=type)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM "[2.5] , " from Coal Combustion Sources")))
dev.copy(png, file = "plot4.png", width=480,height=480,units="px")
dev.off()
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, fill=type)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " from Coal Combustion Sources")))
dev.copy(png, file = "plot4.png", width=480,height=480,units="px")
dev.off()
rm(df)
rm(NEI_Sub)
rm(PM25ByTypeYear)
rm(PM25ByYearType)
rm(SCC_Sub)
NEI_Sub <- subset(NEI, fips == "24510" & type=="ON-ROAD")
ggplot(NEI_Sub,aes(factor(year),Emissions/1000, fill=type)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000)) +
geom_line(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000)) +
geom_bar() +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles")))
ggplot(NEI_Sub,aes(factor(year),Emissions/1000)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in K Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles")))
ggplot(NEI_Sub,aes(factor(year),Emissions)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles")))
ggplot(NEI_Sub,aes(factor(year),Emissions)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles by year")))
ggplot(NEI_Sub,aes(factor(year),Emissions)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles by Year")))
dev.copy(png, file = "plot5.png", width=480,height=480,units="px")
dev.off()
NEI_Sub <- subset(NEI, fips %in% c("24510","06037"))
View(NEI_Sub)
NEI_Sub <- subset(NEI, fips %in% c("24510","06037") & type=="ON-ROAD")
NEI_Area <- transform(NEI_Sub, area = ifelse(fips == "24510", "Baltimore City", "Los Angeles County"))
ggplot(data=NEI_Area, aes(x=Year, y=Emissions, group=area, color=area)) + geom_line() + geom_point( size=4, shape=21, fill="white") + xlab("Year") + ylab("Change in Emissions (tons)") + ggtitle("Motor Vehicle PM2.5 Emissions Changes: Baltimore vs. LA")
ggplot(data=NEI_Area, aes(x=year, y=Emissions, group=area, color=area)) + geom_line() + geom_point( size=4, shape=21, fill="white") + xlab("Year") + ylab("Change in Emissions (tons)") + ggtitle("Motor Vehicle PM2.5 Emissions Changes: Baltimore vs. LA")
ggplot(NEI_Area,aes(factor(year),Emissions)) +
geom_bar(stat="identity") +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Emissions of PM"[2.5] , " in Baltimore from Motor Vehicles by Year")))
ggplot(data=NEI_Area, aes(x=year, y=Emissions, group=area, color=area)) +
geom_line() +
geom_point( size=4, shape=21, fill="white") +
xlab("Year") +
ylab("Change in Emissions (tons)") +
ggtitle("Motor Vehicle PM2.5 Emissions Changes: Baltimore vs. LA")
ggplot(data=NEI_Area, aes(x=year, y=Emissions, color=area)) + geom_line() + geom_point( size=4, shape=21, fill="white") + xlab("Year") + ylab("Change in Emissions (tons)") + ggtitle("Motor Vehicle PM2.5 Emissions Changes: Baltimore vs. LA")
ggplot(data=NEI_Area, aes(x=year, y=Emissions, color=area)) + geom_line() + xlab("Year") + ylab("Change in Emissions (tons)") + ggtitle("Motor Vehicle PM2.5 Emissions Changes: Baltimore vs. LA")
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(aes(fill=year),stat="identity") +
facet_grid(scales="free", space="free", .~area) +
guides(fill=FALSE) + theme_bw() +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(aes(fill=year),stat="identity") +
facet_grid(.~area) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(aes(fill=year),stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(aes(fill=year),stat="identity") +
facet_grid(scales="free", space="free", .~area) +
guides(fill=FALSE) + theme_bw() +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_line(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008")) +
geom_text(aes(label=round(Emissions,0), size=1, hjust=0.5, vjust=-1))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008")) +
geom_text(aes(label=sum(Emissions), size=1, hjust=0.5, vjust=-1))
qplot(year, Emissions, data = NEI_Sub, color = type,
geom = "line") + ggtitle(expression("Coal Combustion" ~ PM[2.5] ~
"Emissions by Source Type and Year")) + xlab("Year") +
ylab(expression  ("Total" ~ PM[2.5] ~ "Emissions (tons)"))
qplot(year, Emissions, data=NEI_Area, geom="line",
color=area) + ggtitle(expression("Total" ~ PM[2.5] ~
"Motor Vehicle Emissions Normalized to 1999 Levels")) + xlab("Year") +
ylab(expression("Normalized" ~ PM[2.5] ~ "Emissions"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008")) +
)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008")) +
geom_text(aes(label=sum(Emissions), size=1, hjust=0.5, vjust=-1))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Kilo-Tons)")) +
labs(title=expression("PM"[2.5]*" Motor Vehicle Source Emissions in Baltimore & LA, 1999-2008"))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of LA and Baltimore Vehicle Emissions of PM"[2.5] , " by Year")))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year")))
dev.copy(png, file = "plot6.png", width=480,height=480,units="px")
dev.off()
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area, scales="free") +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year")))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area, space="free") +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year")))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year")))
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year"))) +
geom_hline(aes(yintercept = Emissions), mean_wt)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year"))) +
geom_hline(aes(yintercept = Emissions), NEI_Area)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year"))) +
geom_hline(aes(yintercept = Emissions), NEI_Area$year=1999)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year"))) +
geom_hline(aes(yintercept = Emissions), NEI_Area$year==1999)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year"))) +
geom_hline(aes(yintercept = Emissions), NEI_Area$year)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year"))) +
geom_hline(aes(yintercept = Emissions), NEI_Area)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year")))
dev.copy(png, file = "plot6.png", width=480,height=480,units="px")
dev.off()
dev.copy(png, file = "plot6.png", width=500,height=500,units="px")
dev.off()
dev.copy(png, file = "plot6.png", width=550,height=550,units="px")
dev.off()
sub.nei <- subset(NEI,(fips == "24510" | fips == "06037") & type=="ON-ROAD")
sub.nei$fips <- as.factor(sub.nei$fips)
levels(sub.nei$fips)
levels(sub.nei$fips) <- c("Los Angeles", "Baltimore City")
to.plot <- aggregate(sub.nei[c("Emissions")], by= list("year"= sub.nei$year, "city"= sub.nei$fips), sum)
png("plot6.png")
qplot(year, Emissions, data= to.plot, color=city, geom = "line")+ggtitle("PM2.5 emissions from motor vehicle Baltimore City v.s. Los Angeles")+ylab("PM2.5 emission")
library(ggplot2)
ggplot(NEI_Area, aes(x=factor(year), y=Emissions, fill=area)) +
geom_bar(stat="identity") +
facet_grid(.~area) +
guides(fill=FALSE) +
labs(x="Year", y=expression(paste(PM[2.5], " Emissions in Tons"))) +
labs(title=expression(paste("Comparison of Los Angeles and Baltimore Vehicle Emissions of PM"[2.5] , " by Year")))
# Now we create a png image file and close the PNG device
dev.copy(png, file = "plot6.png", width=550,height=550,units="px")
dev.off()
dev.off()
dev.off()
rm(list=ls())
exit
quit;
get(pwd)
getwd()
setwd("~/GIT_Public/Reproducible_Research")
getwd()
data <- read.csv("activity.csv")
setwd("~/GIT_Public/Reproducible_Research")
data <- read.table(" activity.zip", nrows=17568, header=T, sep=",", na=TRUE)
getwd()
setwd("~/GIT_Public/RepData_PeerAssessment1")
rm(list=ls())
mdata <- read.table(unz("activity.zip", "activity.csv"), nrows=17568, header=T, quote="\"", sep=",")
summary(mdata)
clean<- complete.cases(mdata)
summary(clean)
summarize(clean)
table(clean)
rm clean
rm(clean)
clean_mdata <- mdata[complete.cases(mdata), ]
mean(clean_mdata)
table(clean_mdata)
desc(mdata)
library("dplyr")
dt_agg_day <- aggregate(steps ~ date, FUN=sum, data=clean_mdata)
mean(dt_agg_day)
summary(dt_agg_day)
hist(dt_agg_day)
hist(dt_agg_day$steps)
hist(dt_agg_day$steps, ylab="Count of days", xlab="Total Steps Per Day")
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day")
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day" breaks=20)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=20)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=15)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=30)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=30, ylim=c(0,15)
)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=20, ylim=c(0,20)
)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=10, ylim(c(0,30))
)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=30)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=10)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=10, ylim=c(0,20))
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=10, ylim=c(0,20), xlim=c(0,25000))
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=20, ylim=c(0,20), xlim=c(0,25000))
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=15, ylim=c(0,20), xlim=c(0,25000))
?hist
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=15, ylim=c(0,20), xlim=c(0,25000), density = 1)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=15, ylim=c(0,20), xlim=c(0,25000), density = 5)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=15, ylim=c(0,20), xlim=c(0,25000), col=1)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=15, ylim=c(0,20), xlim=c(0,25000), col=2)
col=3)
hist(dt_agg_day$steps, ylab="Count of Days", xlab="Count of Steps", main="Total Steps Per Day", breaks=15, ylim=c(0,20), xlim=c(0,25000), col=3)
